<!doctype html>









































<html
  class="not-ready lg:text-base"
  style="--bg: #faf8f1"
  lang="en-us"
>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Security 2 (ABC 407 C) - cmplx-xyttmt</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="Following up on my last post, we&rsquo;re diving into another challenge from Atcoder&rsquo;s Beginner Contest 407: Problem C, titled &ldquo;Security 2&rdquo;. This problem was more approachable than Problem D, and I&rsquo;ve even included an interactive visualization to help you explore its mechanics.
We&rsquo;ll discuss the problem, play with the mechanics and I&rsquo;ll describe my solution approach.
The Problem You can find the full problem description here. But here&rsquo;s the gist of it." />
  <meta name="author" content="Isaac Owomugisha" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="http://localhost:1313/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="http://localhost:1313/theme.png" />

  
  
  
  
  <link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/26762336?s=400&amp;u=897a77ff678657345a82d196b192f2fd8fcaca06&amp;v=4" />
  
  

  
  
  <link rel="preload" as="image" href="http://localhost:1313/twitter.svg" />
  
  <link rel="preload" as="image" href="http://localhost:1313/github.svg" />
  
  <link rel="preload" as="image" href="http://localhost:1313/linkedin.svg" />
  
  

  
  
  <script
    defer
    src="http://localhost:1313/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  
  <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css"
  integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js"
  integrity="sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
></script>

<script>
  document.addEventListener('DOMContentLoaded', () =>
    renderMathInElement(document.body, {
      
      
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '$', right: '$', display: false },
      ],
      
      throwOnError: false,
    }),
  );
</script>

  
  
  

  
  <link rel="icon" href="http://localhost:1313/favicon.ico" />
  <link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png" />

  
  <meta name="generator" content="Hugo 0.124.1">

  
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center">
  <div class="relative z-50 mr-auto flex items-center">
    <a
      class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold"
      href="http://localhost:1313/"
      >cmplx-xyttmt</a
    >
    <div
      class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6">
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/algorithms/"
        >Algo Log</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/"
        >Posts</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/projects/"
        >Projects</a
      >
      
      <a
        class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal"
        href="/resume/"
        >Resumé</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"
    >
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./twitter.svg)"
        href="https://twitter.com/IsaacOwomugisha"
        target="_blank"
        rel="me"
      >
        twitter
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./github.svg)"
        href="https://github.com/cmplx-xyttmt"
        target="_blank"
        rel="me"
      >
        github
      </a>
      
      <a
        class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./linkedin.svg)"
        href="https://linkedin.com/in/owomugisha-isaac-32807912a"
        target="_blank"
        rel="me"
      >
        linkedin
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"
    >
      

<article>
  <header class="mb-16">
    <h1 class="!my-0 pb-2.5">Security 2 (ABC 407 C)</h1>

    
    <div class="text-sm antialiased opacity-60">
      
      <time>Jun 15, 2025</time>
      
      
      
      
      <span class="mx-1">&middot;</span>
      <span>Isaac Owomugisha</span>
      
    </div>
    
  </header>

  <section><p>Following up on my last post, we&rsquo;re diving into another challenge from Atcoder&rsquo;s Beginner Contest 407: Problem C, titled &ldquo;Security 2&rdquo;.
This problem was more approachable than Problem D, and I&rsquo;ve even included an interactive visualization to help you explore its mechanics.</p>
<p>We&rsquo;ll discuss the problem, play with the mechanics and I&rsquo;ll describe my solution approach.</p>
<h2 id="the-problemhttpsatcoderjpcontestsabc407tasksabc407_c"><a href="https://atcoder.jp/contests/abc407/tasks/abc407_c">The Problem</a></h2>
<p>You can find the <a href="https://atcoder.jp/contests/abc407/tasks/abc407_c">full problem description here</a>. But here&rsquo;s the gist of it.</p>
<p>There is a special pass-code input device. The device consists of a screen displaying one string, and two buttons.</p>
<p>Let <code>T</code> be the string shown on the screen. Initially, <code>T</code> is the empty string. Pressing a button changes <code>T</code> as follows:</p>
<ul>
<li>Pressing <strong>button A</strong> appends <code>0</code> to the end of <code>T</code>.</li>
<li>Pressing <strong>button B</strong> increments every digit in <code>T</code> by one (modulo 10): digits <code>0</code> through <code>8</code> become the next larger digit, and <code>9</code> wraps around to <code>0</code>.</li>
</ul>
<p>For example, if <code>T</code> is <code>1984</code> and button A is pressed, <code>T</code> becomes <code>19840</code>; if button B is then pressed, <code>T</code> becomes <code>20951</code>.</p>
<p>You are given a target string <code>S</code>. Starting from an empty string, press the buttons zero or more times until tt coincides with <code>S</code>. Find the minimum number of button presses required.</p>
<h2 id="interactive-visualization">Interactive Visualization</h2>
<p>Before diving into the solution, I highly recommend interacting with the device yourself to get a feel for its behavior. You can:</p>
<ol>
<li>Press Button A to append a 0</li>
<li>Press Button B to increment all digits (mod 10)</li>
<li>Try to see if you can reach the target string in the minimum number of steps.</li>
</ol>


<div class="atcoder-device" id="atcoder-device-1750014277373505000">
    <div class="device-screen">
        <span class="display-text"></span>
    </div>
    <div class="device-buttons">
        <button class="button-a">Button A</button>
        <button class="button-b">Button B</button>
        <button class="button-clear">Clear</button>
    </div>
    <div class="device-challenge">
        <div class="challenge-info">
            <div class="target-string">Target: <span class="target-value"></span></div>
            <div class="moves">Moves: <span class="moves-count">0</span></div>
            <div class="expected-moves">Expected minimum moves: <span class="expected-value"></span></div>
        </div>
        <div class="challenge-status"></div>
        <button class="new-challenge-btn">New Challenge</button>
    </div>
</div>

<style>
.atcoder-device {
    max-width: 600px;
    margin: 2rem auto;
    padding: 2rem;
    border: 2px solid #333;
    border-radius: 10px;
    background: #f5f5f5;
}

.device-screen {
    background: #000;
    color: #0f0;
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 5px;
    font-family: monospace;
    font-size: 1.5rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    overflow: hidden;
    white-space: nowrap;
}

.device-buttons {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
}

.device-buttons button {
    flex: 1;
    padding: 0.5rem;
    font-size: 1rem;
    cursor: pointer;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 5px;
    transition: background 0.3s;
}

.device-buttons button:hover {
    background: #45a049;
}

.button-clear {
    background: #f44336 !important;
}

.button-clear:hover {
    background: #d32f2f !important;
}

.device-challenge {
    margin-top: 1.5rem;
    padding: 1rem;
    background: #fff;
    border-radius: 8px;
    border: 1px solid #ddd;
}

.challenge-info {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    font-size: 1.1rem;
    color: #333;
}

.challenge-info > div {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.challenge-status {
    margin-top: 1rem;
    padding: 0.5rem;
    border-radius: 4px;
    text-align: center;
    font-weight: bold;
}

.challenge-status.success {
    background: #e8f5e9;
    color: #2e7d32;
}

.challenge-status.failure {
    background: #ffebee;
    color: #c62828;
}

.new-challenge-btn {
    display: block;
    width: 100%;
    margin-top: 1rem;
    padding: 0.75rem;
    background: #2196F3;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s;
}

.new-challenge-btn:hover {
    background: #1976D2;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const device = document.getElementById('atcoder-device-1750014277373505000');
    const display = device.querySelector('.display-text');
    const buttonA = device.querySelector('.button-a');
    const buttonB = device.querySelector('.button-b');
    const buttonClear = device.querySelector('.button-clear');
    const newChallengeBtn = device.querySelector('.new-challenge-btn');
    const movesCount = device.querySelector('.moves-count');
    const targetValue = device.querySelector('.target-value');
    const expectedValue = device.querySelector('.expected-value');
    const challengeStatus = device.querySelector('.challenge-status');
    
    let currentString = '';
    let moves = 0;
    
    
    const challenges = [
        { target: "0", expected: 1 },
        { target: "1", expected: 2 },
        { target: "10", expected: 3 },
        { target: "123", expected: 24 },
        { target: "21", expected: 4 },
        { target: "407", expected: 17 }
    ];
    let currentChallenge = 0;
    
    function updateDisplay() {
        display.textContent = currentString || ' ';
        movesCount.textContent = moves;
        
        
        buttonB.disabled = currentString === '';
        buttonB.style.opacity = currentString === '' ? '0.5' : '1';
        buttonB.style.cursor = currentString === '' ? 'not-allowed' : 'pointer';
        
        
        if (currentString === challenges[currentChallenge].target) {
            if (moves === challenges[currentChallenge].expected) {
                challengeStatus.textContent = "Perfect! You found the minimum number of moves!";
                challengeStatus.className = "challenge-status success";
            } else {
                challengeStatus.textContent = `Good! You reached the target, but can you do it in ${challenges[currentChallenge].expected} moves?`;
                challengeStatus.className = "challenge-status failure";
            }
        } else {
            challengeStatus.textContent = "";
            challengeStatus.className = "challenge-status";
        }
    }
    
    function pressButtonA() {
        currentString += '0';
        moves++;
        updateDisplay();
    }
    
    function pressButtonB() {
        currentString = currentString.split('').map(digit => {
            if (digit === '9') return '0';
            return String(Number(digit) + 1);
        }).join('');
        moves++;
        updateDisplay();
    }

    function clearDisplay() {
        currentString = '';
        moves = 0;
        updateDisplay();
    }
    
    function loadChallenge() {
        const challenge = challenges[currentChallenge];
        targetValue.textContent = challenge.target;
        expectedValue.textContent = challenge.expected;
        clearDisplay();
    }

    function getRandomChallenge() {
        
        let newIndex;
        do {
            newIndex = Math.floor(Math.random() * challenges.length);
        } while (newIndex === currentChallenge && challenges.length > 1);
        
        currentChallenge = newIndex;
        loadChallenge();
    }
    
    buttonA.addEventListener('click', pressButtonA);
    buttonB.addEventListener('click', pressButtonB);
    buttonClear.addEventListener('click', clearDisplay);
    newChallengeBtn.addEventListener('click', getRandomChallenge);
    
    
    loadChallenge();
});
</script> 
<h2 id="solution">Solution</h2>
<p>My initial intuition for this problem leaned towards a greedy strategy: for each target digit, first press <code>A</code> to create a new slot, then press <code>B</code> a number of times equal to that digit&rsquo;s value, and simply repeat for the entire string.
However, as you might have noticed from the interactive visualization, the critical challenge lies in how each press of button B affects all existing digits in the string.
This interdependency means a simple greedy approach won&rsquo;t work.</p>
<p>Instead, we need a strategy that ensures previous digits align correctly by the time we finalize the current one, especially when forming the last digit of our target string.</p>
<p>Let&rsquo;s take 2 examples:</p>
<ol>
<li>Consider the example target string <code>&quot;32&quot;</code>:
<ul>
<li>We can press <code>A</code> to get <code>&quot;0&quot;</code>. Then <code>B</code> to get <code>&quot;1&quot;</code>. That&rsquo;s 2 operations. We can stop for now, because we know 2 button presses are coming up for the last digit.</li>
<li>Press <code>A</code> again to get <code>&quot;10&quot;</code>. Then press <code>B</code> 2 times to get the target <code>&quot;32&quot;</code>. That&rsquo;s 3 operations.</li>
<li>So, there are 5 total operations.</li>
</ul>
</li>
<li>Consider the target string <code>&quot;12&quot;</code>. This is a little more complicated because you before adding the second digit, you have to unintuitively go up to <code>&quot;9&quot;</code> for the first digit (remember, the digits wrap around.)
<ul>
<li>Press <code>A</code>, then <code>B</code> 9 times to get to <code>&quot;9&quot;</code>. That&rsquo;s 10 operations.</li>
<li>Press <code>A</code> to get <code>&quot;90&quot;</code>, then <code>B</code> 2 times to get to <code>&quot;12&quot;</code>. That&rsquo;s 3 operations.</li>
<li>So, there are a total of 13 operations.</li>
</ul>
</li>
</ol>
<p>This reveals the core insight: to correctly determine the presses for a given digit, we must account for all subsequent <code>B</code> presses that will affect it.
Since the total number of <code>B</code> presses affects previous numbers, we can start from the last digit, and keep track of how many <code>B</code> presses we have performed so far.
Keeping track of these presses is a bit tricky though, and importantly, must be tracked modulo 10. Here&rsquo;s an outline of my solution:</p>
<ul>
<li>Keep track of the total number of <code>B</code> presses (which I call <code>total_b_presses</code> in the code).</li>
<li>Start from the last digit.</li>
<li>For each digit <code>d</code>, calculate which number will need to be in that position, such that when the <code>B</code> button is pressed <code>total_b_presses</code> times, the result is <code>d</code>. Let&rsquo;s call this number <code>local_presses</code>, because it will be the number of times <code>B</code> is pressed.
For the last digit, <code>local_presses</code> is simply equal to <code>d</code>. For other digits, we can can calculate <code>local_presses = (10 + d - total_b_presses) % 10</code>. We add 10 to avoid negative numbers when calculating the modulo. Note that <code>total_b_presses</code> will also be calculated mod 10.</li>
</ul>
<p>Below is the python code, which is surprisingly short. You can find the full solution (with the input and output functions) <a href="https://github.com/cmplx-xyttmt/competitive-programming/blob/main/python/src/atcoder/abc407/C.py">on Github</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>S <span style="color:#f92672">=</span> read_line()
</span></span><span style="display:flex;"><span>total_b_presses <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>moves <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> digit <span style="color:#f92672">in</span> reversed(S):
</span></span><span style="display:flex;"><span>    local_presses <span style="color:#f92672">=</span> (<span style="color:#ae81ff">10</span> <span style="color:#f92672">+</span> int(digit) <span style="color:#f92672">-</span> total_b_presses) <span style="color:#f92672">%</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    moves <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> local_presses
</span></span><span style="display:flex;"><span>    total_b_presses <span style="color:#f92672">=</span> (total_b_presses <span style="color:#f92672">+</span> local_presses) <span style="color:#f92672">%</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(moves)
</span></span></code></pre></div><p>You can also checkout <a href="https://atcoder.jp/contests/abc407/editorial/13114">the official editorial on AtCoder</a>.</p>
</section>

  
  
  <footer class="mt-12 flex flex-wrap">
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="http://localhost:1313/tags/algorithms"
      >algorithms</a
    >
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="http://localhost:1313/tags/visualization"
      >visualization</a
    >
     
    <a
      class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]"
      href="http://localhost:1313/tags/atcoder"
      >atcoder</a
    >
    
  </footer>
  

  
  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]"
      href="http://localhost:1313/posts/1_domino_covering/"
      ><span>Domino Covering XOR (ABC 407 D)</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  


  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
>
  <div class="mr-auto">
    &copy; 2025
    <a class="link" href="http://localhost:1313/">cmplx-xyttmt</a>
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >Powered by Hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >✎ Paper</a
  >
</footer>

  </body>
</html>
